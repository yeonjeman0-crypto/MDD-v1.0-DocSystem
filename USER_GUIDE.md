# MDD v1.0 Maritime Document Distribution System 사용자 가이드

## 시스템 개요

MDD v1.0은 해운업 특화 문서 관리 시스템입니다. DORIKO의 선박 운영에 필요한 모든 문서를 안전하고 효율적으로 관리할 수 있습니다.

## 🚀 시스템 구성

### 1. Admin Portal (관리자 포털)
- **접속 주소**: http://localhost:5177
- **용도**: 시스템 관리, 패키지 생성, 선박 관리
- **사용자**: 육상 관리자, 시스템 운영자

### 2. API Server (백엔드 서버)
- **접속 주소**: http://localhost:3004
- **용도**: 데이터 처리, 패키지 생성, 문서 관리
- **API 문서**: http://localhost:3004/api/docs

### 3. Electron Viewer (선박용 뷰어)
- **접속 주소**: http://localhost:5176
- **용도**: 선박에서 문서 열람, DRK 패키지 실행
- **사용자**: 선원, 선장, 기관장

## 📋 주요 기능

### 🏠 대시보드 (Admin Portal 메인)
- **원클릭 DRK 패키지 생성**: 모든 PDF 문서를 포함한 패키지를 한 번에 생성
- **시스템 상태 확인**: 서버 상태 및 연결 확인
- **문서 검증**: JSON 구조 및 PDF 파일 무결성 검증
- **데이터베이스 동기화**: 최신 문서 정보 업데이트

### 🚢 선박 관리
- **선박 정보**: DORIKO STAR, DORIKO OCEAN 등 선대 관리
- **인증서 관리**: 각종 선박 인증서 만료일 추적
- **경고 알림**: 인증서 만료 임박 시 자동 알림
- **상태 모니터링**: 선박별 운항 상태 실시간 확인

### 📦 패키지 관리
- **전체 패키지(.drkpack)**: 모든 문서를 포함한 완전한 패키지
- **증분 패키지(.drkdelta)**: 변경된 문서만 포함한 업데이트 패키지
- **디지털 서명**: Ed25519 암호화를 통한 무결성 보장
- **압축 최적화**: Zstd 압축으로 용량 최소화

### 📄 문서 관리
- **문서 구조**: 메인매뉴얼, 절차서, 지침서, 서식 분류
- **JSON 기반**: 구조화된 데이터로 문서 메타데이터 관리
- **PDF 연동**: 실제 PDF 파일과 JSON 구조 매핑
- **검색 기능**: 빠른 문서 검색 및 필터링

### 🔍 문서 검색
- **실시간 검색**: 문서 제목, 내용, 코드로 즉시 검색
- **필터링**: 문서 유형별, 카테고리별 필터
- **검색 결과**: 관련도 순 정렬 및 미리보기

### 📊 시스템 모니터링
- **서버 상태**: CPU, 메모리, 디스크 사용량
- **API 성능**: 응답 시간, 요청 수 통계
- **패키지 통계**: 생성된 패키지 현황
- **오류 모니터링**: 시스템 오류 추적

## 🛠️ 시스템 시작 방법

### 개발 환경 실행
```bash
# 1. API 서버 시작
cd api
npm run start:dev

# 2. Admin Portal 시작
cd admin-portal
npm run dev

# 3. Electron Viewer 시작
cd viewer
npm run dev
```

### 프로덕션 빌드
```bash
# API 서버 빌드
cd api
npm run build
npm run start:prod

# Admin Portal 빌드
cd admin-portal
npm run build

# Electron 앱 패키징
cd viewer
npm run dist
```

## 📖 주요 사용 시나리오

### 시나리오 1: 새로운 DRK 패키지 생성
1. Admin Portal (http://localhost:5177) 접속
2. 대시보드에서 "📦 원클릭 DRK 패키지 생성" 클릭
3. 패키지 생성 완료 후 크기 확인 (약 282MB)
4. 생성된 패키지를 선박으로 전송

### 시나리오 2: 선박에서 문서 열람
1. Electron Viewer 실행
2. DRK 패키지(.drkpack) 파일 드래그 앤 드롭
3. 문서 목록에서 원하는 문서 선택
4. PDF 뷰어에서 문서 열람

### 시나리오 3: 선박 인증서 관리
1. Admin Portal > 선박 관리 메뉴
2. 선박 목록에서 대상 선박 선택
3. 인증서 탭에서 만료 예정 인증서 확인
4. 필요시 갱신 작업 진행

### 시나리오 4: 문서 검색
1. Admin Portal > 문서 검색 메뉴
2. 검색어 입력 (예: "안전관리")
3. 필터로 문서 유형 선택
4. 검색 결과에서 원하는 문서 선택

## ⚡ 성능 및 보안

### 성능 최적화
- **Gzip 압축**: HTTP 응답 자동 압축
- **API 캐싱**: 자주 요청되는 데이터 캐싱
- **이미지 최적화**: PDF 렌더링 최적화

### 보안 기능
- **Helmet.js**: HTTP 보안 헤더 자동 설정
- **CORS 제한**: 허용된 도메인만 접근 가능
- **입력 검증**: 모든 API 입력 데이터 검증
- **디지털 서명**: DRK 패키지 무결성 보장

## 🔧 문제 해결

### 일반적인 문제
1. **서버 연결 실패**
   - API 서버(포트 3004) 실행 상태 확인
   - 방화벽 설정 확인

2. **패키지 생성 실패**
   - PDF 파일 경로 확인 (절차서 PDF 폴더)
   - 디스크 용량 확인

3. **문서 검색 안됨**
   - 데이터베이스 동기화 실행
   - JSON 파일 구조 검증

4. **PDF 뷰어 오류**
   - 브라우저 PDF 플러그인 확인
   - PDF 파일 손상 여부 확인

### 연락처 정보
- **개발팀**: DORIKO IT Team
- **시스템 관리**: 정보시스템팀
- **사용자 지원**: 선무팀

## 📝 업데이트 내역

### v1.0.0 (2025-08-16)
- ✅ 초기 시스템 구축 완료
- ✅ DRK 패키지 시스템 구현
- ✅ Admin Portal 대시보드 완성
- ✅ 선박 관리 기능 (Mock 데이터)
- ✅ Electron PDF 뷰어 완성
- ✅ 보안 및 성능 최적화
- ✅ 통합 테스트 완료

---

## 💡 사용자 팁

1. **빠른 패키지 생성**: 대시보드의 원클릭 버튼을 사용하세요
2. **정기 백업**: DRK 패키지를 정기적으로 생성하여 백업하세요
3. **인증서 관리**: 선박 관리에서 만료 예정 인증서를 정기 확인하세요
4. **시스템 상태**: 모니터링 메뉴에서 시스템 성능을 주기적으로 확인하세요

**🚢 DORIKO Maritime Document Distribution System v1.0**  
*"심플하면서도 사용자들이 편한 해운업 특화 문서 관리 시스템"*